!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.cytoscapeEdgeConnections=t():e.cytoscapeEdgeConnections=t()}(window,function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";var n=!1;function r(e){e?(e("core","addEdge",i),e("core","addEdges",d),e("collection","auxNode",s),e("collection","isAuxNode",l),e("collection","edgeId",p)):console.warn("Can't register cytoscape-edge-connections; Cytoscape not available")}function i(e){if(c(this),!a(this,e))throw Error("edge can't be added to graph as a player does not exist "+JSON.stringify(e))}function d(e){var t=this;c(this);var o=0;do{e=e.filter(function(e){return!a(t,e)}),o++}while(e.length);console.log(o+" add-edges rounds")}function a(e,t){var o=u(e,t.role1),n=u(e,t.role2);if(void 0!==o&&void 0!==n){var r=e.add(function(e,t,o){return{data:{id:e.id,typeUri:e.typeUri,label:e.value,color:e.getColor(),source:t,target:o,viewAssoc:e}}}(t,o,n));return function(e,t){var o=t.source().position(),n=t.target().position(),r=e.add({data:{assocId:(i=t,Number(i.id())),color:t.data("color")},position:{x:(o.x+n.x)/2,y:(o.y+n.y)/2}});var i;t.data("auxNodeId",r.id())}(e,r),!0}}function c(e){n||(e.on("position","node",function(e){e.target.connectedEdges("edge[color]").forEach(function(e){var t,o=e.midpoint();t=o,Number.isNaN(t.x)||Number.isNaN(t.y)||e.auxNode().position(o)})}),e.on("remove","edge[color]",function(e){e.target.auxNode().remove()}),n=!0)}function u(e,t){var o=t.id;if(t.isTopicPlayer())return o;var n=e.getElementById(o.toString());return 1===n.size()?f(n):void 0}function s(){if(!this||!this.isEdge())throw Error("auxNode() is expected to be called on an edge, but called on "+JSON.stringify(this));var e=this.cy().getElementById(f(this));if(1!==e.size())throw Error("no aux node for edge "+this.id());return e}function f(e){var t=e.data("auxNodeId");if(!t)throw Error("edge "+e.id()+' has no "auxNodeId" data');return t}function l(){return void 0!==this.edgeId()}function p(){if(!this||!this.isNode())throw Error("edgeId() is expected to be called on a node, but called on "+JSON.stringify(this));return this.data("assocId")}"undefined"!=typeof cytoscape&&r(cytoscape),e.exports=r}])});